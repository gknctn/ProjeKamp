@using EntitiyLayer.Concrete
@model List<Blog>
@{
    ViewData["Title"] = "Anasayfa";
    Layout = "~/Views/Shared/MainLayout.cshtml";
}

<div class="py-3">
    <h2 class="pb-2 border-bottom">Anasayfa</h2>
    @if (User.Identity.Name == null)
    {
        <div class="px-4 py-5 my-5 text-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="72" height="57" fill="currentColor" class="bi bi-bootstrap" viewBox="0 0 16 16">
                <path d="M5.062 12h3.475c1.804 0 2.888-.908 2.888-2.396 0-1.102-.761-1.916-1.904-2.034v-.1c.832-.14 1.482-.93 1.482-1.816 0-1.3-.955-2.11-2.542-2.11H5.062zm1.313-4.875V4.658h1.78c.973 0 1.542.457 1.542 1.237 0 .802-.604 1.23-1.764 1.23zm0 3.762V8.162h1.822c1.236 0 1.887.463 1.887 1.348 0 .896-.627 1.377-1.811 1.377z" />
                <path d="M0 4a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4zm4-3a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V4a3 3 0 0 0-3-3z" />
            </svg>

            <h1 class="display-5 fw-bold text-body-emphasis">Anasayfa</h1>
            <div class="col-lg-6 mx-auto">
                <p class="lead mb-4">Websitemizde teknolojiden dogaya, otomobilden spora her konuda bloglar paylasabilirsiniz. Eger hala uye degilseniz uye olun.Uyeliginiz var ise hemen giris yapin.</p>
                <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                    <a asp-controller="RegisterUser" asp-action="index" class="btn btn-primary btn-lg px-4 gap-3">Kayit ol</a>
                    <a asp-controller="LoginUser" asp-action="index" class="btn btn-outline-secondary btn-lg px-4">Giris yap</a>
                </div>
            </div>
        </div>
    }

    <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
        @foreach (var item in Model)
        {
            if (item.BlogStatus== true)
            {
                <div class="col" style="height:500px">
                    <a style="text-decoration:none" href="/Blog/BlogReadAll/@item.BlogID">
                        <div class="card card-cover h-100 overflow-hidden text-bg-dark rounded-4 shadow-lg" style="background-image: url('@item.BlogImage');background-size: 100% 100%">
                            <div class="d-flex flex-column h-100 p-5 pb-3 text-white text-shadow-1">
                                <h3 class="pt-5 mt-5 mb-4 display-6 lh-1 fw-bold">@item.BlogName</h3>
                                <ul class="d-flex list-unstyled mt-auto bg-dark rounded-4 p-2">
                                    <li class="me-auto">
                                        <img src="@item.Writer.ImageUrl" alt="Bootstrap" width="32" height="32" class="rounded-circle border border-white"><span class="ms-2">@item.Writer.UserName</span>
                                    </li>
                                    <li class="d-flex align-items-center me-2">
                                        <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#geo-fill"></use></svg>
                                        <small>@item.Category.CategoryName</small>
                                    </li>
                                    <li class="d-flex align-items-center me-2">
                                        <svg class="bi me-2" width="1em" height="1em"><use xlink:href="#calendar3"></use></svg>
                                        <small>@item.BlogCreateDate.ToShortDateString()</small>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </a>
                </div>
            }
        }
    </div>

</div>